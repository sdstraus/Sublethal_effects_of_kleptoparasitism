Anova(y)
w <- lm(num.all ~ Treatment, num.after)
Anova(w)
cohen.d(num.after$num.all, num.after$Treatment)
cohen.d(num.after$num.sub1, num.after$Treatment)
cohen.d(num.after$num.sub2, num.after$Treatment)
cohen.d(num.after$num.sub2, num.after$Treatment)
y <- glm(num.sub2 ~ Treatment, family = poisson, data = num.after)
Anova(y)
y <- lm(num.sub2 ~ Treatment, data = num.after)
Anova(y)
plot(num.sub2 ~ Treatment, num.after, ylab = "Number Sub 2", cex.axis = 1.5, cex.lab = 1.5)  #...higher?
Anova(x)
x <- lm(num.adult ~ Treatment, data =num.after)
Anova(x)
Anova(y)
Anova(z)
z <- lm(num.sub1 ~ Treatment, data =  num.after)
Anova(z)
w <- lm(num.all ~ Treatment, data = num.after)
Anova(w)
Anova(lm(count ~ instar, filter(num.long, instar != "num.all")))
y.2 <- glm(num.sub2 ~ Treatment, data = num.after, family = poisson)
AIC(y, y.2)
plot(num.sub2 ~ Treatment, num.after, ylab = "Number Sub 2", cex.axis = 1.5, cex.lab = 1.5)  #...higher?
x.2 <- glm(num.adult ~ Treatment, data =num.after, family = poisson)
AIC(x, x.2)
AIC(y.2)
AIC(y, y.2)
Anova(y.2)
Anova(x.2)
z <- glm(num.sub1 ~ Treatment, data =  num.after, family = poisson)
Anova(z)
w <- glm(num.all ~ Treatment, data = num.after, family = poisson)
Anova(w)
plot(num.all ~ Treatment, num.after, ylab = "Total Number", cex.axis = 1.5, cex.lab = 1.5)
Anova(z)
Anova(z)
Anova(y.2)
Anova(x.2)
Anova(w)
w <- glm(num.all ~ Treatment, data = num.after, family = poisson)
Anova(w)
instar.count <- glm(count ~ instar, data = num.long, family = poisson)
Anova(instar.count)
mod.av <- aov(instar.count)
TUKEY <- TukeyHSD(x=mod.av)
sig.letters <- TUKEY$instar[order(row.names(TUKEY$instar)), ]
value_max = num.long %>% group_by(instar) %>% summarize(max_value = max(count))
ggplot(data = filter(num.long, instar != "num.all"), aes(x = instar, y = count, fill = instar)) +
geom_boxplot(alpha = 0.5)+
geom_text(data = value_max, aes(x = instar, y = max_value + 1, label = c("a", "ab", "b")) ,vjust=0)+
xlab("Instar")+
theme_cowplot()+
theme(legend.position = "none")
TUKEY
summary(instar.count)
TUKEY
?family
instar.count <- glm(count ~ instar, data = num.long, family = poisson(link = "identity"))
Anova(instar.count)
summary(instar.count)
y.2 <- glm(num.sub2 ~ Treatment, data = num.after, amily = poisson(link = "identity"))
y.2 <- glm(num.sub2 ~ Treatment, data = num.after, family = poisson(link = "identity"))
AIC(y, y.2)
y.2 <- glm(num.sub2 ~ Treatment, data = num.after, family = poisson(link = "identity"))
Anova(y.2)
x.2 <- glm(num.adult ~ Treatment, data =num.after, family = poisson(link = "identity"))
Anova(x.2)
z <- glm(num.sub1 ~ Treatment, data =  num.after, family = poisson(link = "identity"))
w <- glm(num.all ~ Treatment, data = num.after, family = poisson(link = "identity"))
Anova(w)
Anova(instar.count)
summary(instar.count)
ggplot(data = filter(num.long, instar != "num.all"), aes(x = instar, y = count, fill = instar)) +
geom_boxplot(alpha = 0.5)+
geom_text(data = value_max, aes(x = instar, y = max_value + 1, label = c("a", "ab", "b")) ,vjust=0)+
xlab("Instar")+
theme_cowplot()+
stat_summary(fun=mean, geom="point", size=2, color="red")+
theme(legend.position = "none")
Anova(instar.count)
############ Mortality ##########
col.counts <- read.csv("../data/colony_counts.csv")
# remove Col_21 : Note says "Escapees"
col.counts <- col.counts %>% filter(Colony != "Col_21")
####### Load Libraries #########
library(car)
library(effsize)
library(lme4)
library(cowplot)
library(ggplot2)
library(stats) #glms
library(ggthemes)
library(scales)
library(tidyr)
library(dplyr)
library(ggpubr)
# remove Col_21 : Note says "Escapees"
col.counts <- col.counts %>% filter(Colony != "Col_21")
View(col.counts)
col.counts$num.all <- col.counts$num.adult + col.counts$num.sub2 + col.counts$num.sub1
num.after <- col.counts[c(which(col.counts$Measurement == "After")),]
num.after[,7] <- NULL
# make num.after long format
num.long <- num.after %>%
pivot_longer(!c(Colony, Treatment, Measurement), names_to = "instar", values_to = "count")
num.long <- num.long %>% mutate(instar = recode_factor(instar, num.sub1  = "Sub 1", num.sub2 = "Sub 2", num.adult = "Adult"))
num.long$instar <- factor(num.long$instar, order = TRUE, levels = c("Sub 1", "Sub 2", "Adult"))
ggplot(data = filter(num.long, instar != "num.all"), aes(x = count, group = instar, fill = instar)) +
geom_density(alpha = 0.5)+
xlab("Count")+
theme_cowplot()
num.long <-  num.long %>% filter(instar != "num.all")
my_pal <- viridis(option = "C", n = 4)
my_pal <- my_pal[c(4,3,2,1)]
my_pal <- lviridis::viridis(option = "C", n = 4)
my_pal <- viridis::viridis(option = "C", n = 4)
my_pal <- my_pal[c(4,3,2,1)]
final.count <- ggplot(data = filter(num.long, instar != "num.all"), aes(x = instar, y = count, fill = instar, color = Treatment)) +
geom_boxplot(alpha = 0.7)+
# geom_text(data = value_max, aes(x = instar, y = max_value + 1, label = c("a", "ab", "b")) ,vjust=0)+
xlab("Instar")+
scale_color_manual(values = c("black", "grey"))+
scale_fill_manual(values = paste(my_pal[2:4]))+
theme_cowplot()+
labs(fill = "Instar", y = "Final count")
final.count
View(num.long)
View(num.after)
View(final.count)
View(col.counts)
### count diff
View(col.counts)
col.counts[,7] <- NULL
col.counts %>% pivot_wider(values_from = c(num.adult, num.sub2, num.sub1), names_from = Measurement)
counts.wide <- col.counts %>% pivot_wider(values_from = c(num.adult, num.sub2, num.sub1), names_from = Measurement)
View(counts.wide)
counts.wide <- col.counts %>% pivot_wider(values_from = c(num.adult, num.sub2, num.sub1), names_from = c(Measurement, Treatment, Colony))
counts.wide <- col.counts %>% pivot_wider(values_from = c(num.adult, num.sub2, num.sub1), names_from = c(Measurement))
View(counts.wide)
counts.wide <- col.counts %>% pivot_wider(!c(Colony, Treatment, num.all), values_from = c(num.adult, num.sub2, num.sub1), names_from = c(Measurement))
counts.wide <- col.counts %>%
pivot_wider(values_from = c(num.adult, num.sub2, num.sub1), names_from = c(Measurement))
View(counts.wide)
counts.wide <- col.counts %>%
pivot_wider(values_from = c(num.adult, num.sub2, num.sub1), names_from = c(Measurement, Colony))
counts.wide <- col.counts %>%
pivot_wider(values_from = c(num.adult, num.sub2, num.sub1), names_from = c(Measurement))
counts.wide <- col.counts %>%
group_by(Colony) %>%
pivot_wider(values_from = c(num.adult, num.sub2, num.sub1), names_from = c(Measurement))
counts.wide <- col.counts %>%
pivot_wider(values_from = c(num.adult, num.sub2, num.sub1), names_from = c(Colony))
counts.wide <- col.counts %>%
pivot_wider(values_from = c(num.adult, num.sub2, num.sub1), names_from = c(Measurement))
col.counts$diff <- 0
after <- col.counts %>% filter(Measurement = After)
after <- col.counts %>% filter(Measurement == After)
after <- col.counts %>% filter(Measurement == "After")
View(after)
before <- col.counts %>% filter(Measurement == "Befre")
before <- col.counts %>% filter(Measurement == "Before")
counts.wide <- full_join(after, before)
View(counts.wide)
View(after)
after <- after[1:5,]
after <- after[,1:5]
after <- col.counts %>% filter(Measurement == "After")
after <- after[,1:5]
after <- after %>%
rename(after.adult = num.adult,
after.sub2 = num.sub2,
after.sub1 = num.sub1)
before <- before[,1:5]
before <- after %>%
rename(before.adult = num.adult,
before.sub2 = num.sub2,
before.sub1 = num.sub1)
before <- col.counts %>% filter(Measurement == "Before")
before <- before[,1:5]
View(before)
before <- before %>%
rename(before.adult = num.adult,
before.sub2 = num.sub2,
before.sub1 = num.sub1)
counts.wide <- full_join(after, before)
counts.wide <- counts.wide %>%
mutate(diff.adult = after.adult - before.adult,
diff.sub2 = after.sub2 - before.sub2,
diff.sub1 = after.sub1 - before.sub1)
counts.long <- counts.wide %>%
select(Colony, Treatment, diff.adult, diff.sub2, diff.sub1) %>%
pivot_longer(names_to = "instar", values_to = "count.diff")
counts.long <- counts.wide %>%
select(Colony, Treatment, diff.adult, diff.sub2, diff.sub1)
View(counts.long)
counts.long <- counts.wide %>%
select(Colony, Treatment, diff.adult, diff.sub2, diff.sub1) %>%
pivot_longer(!c(Colony, Treatment), names_to = "instar", values_to = "count")
anova(lm(diff.resids ~ instar + Treatment+instar:Treatment, data = counts.long)) # p=0.06
counts.long <- counts.wide %>%
select(Colony, Treatment, diff.adult, diff.sub2, diff.sub1) %>%
pivot_longer(!c(Colony, Treatment), names_to = "instar", values_to = "count.diff")
anova(lm(count.diff ~ instar + Treatment+instar:Treatment, data = counts.long)) # p=0.06
anova(lm(count.diff ~ instar + Treatment, data = counts.long)) # p=0.06
summary(lm(count.diff ~ instar + Treatment, data = counts.long))
diff.count <- ggplot(data = counts.long, aes(x = instar, y = count.diff, fill = instar, color = Treatment)) +
geom_boxplot(alpha = 0.7)+
# geom_text(data = value_max, aes(x = instar, y = max_value + 1, label = c("a", "ab", "b")) ,vjust=0)+
xlab("Instar")+
scale_color_manual(values = c("black", "grey"))+
scale_fill_manual(values = paste(my_pal[2:4]))+
theme_cowplot()+
labs(fill = "Instar", y = "Final count")
diff.count
anova(lm(count.diff ~ instar + Treatment+instar:Treatment, data = counts.long)) # p=0.06
anova(lm(count.diff ~ instar + Treatment, data = counts.long)) # p=0.06
summary(lm(count.diff ~ instar + Treatment+ Treatment+instar:Treatment, data = counts.long))
anova(lm(count.diff ~ instar + Treatment+instar:Treatment, data = counts.long)) # p=0.06
counts.wide <- counts.wide %>%
rename(Adult = diff.adult,
Sub2 = diff.sub2,
Sub1 = diff.sub1)
counts.long <- counts.wide %>%
select(Colony, Treatment, Adult, Sub2, Sub1) %>%
pivot_longer(!c(Colony, Treatment), names_to = "instar", values_to = "count.diff")
all.col$instar <- factor(all.col$instar, order = TRUE, levels = c("Sub 1", "Sub 2", "Adult"))
counts.long$instar <- factor(counts.long$instar, order = TRUE, levels = c("Sub 1", "Sub 2", "Adult"))
diff.count <- ggplot(data = counts.long, aes(x = instar, y = count.diff, fill = instar,
color = Treatment)) +
geom_boxplot(alpha = 0.7)+
# geom_text(data = value_max, aes(x = instar, y = max_value + 1, label = c("a", "ab", "b")) ,vjust=0)+
xlab("Instar")+
scale_color_manual(values = c("black", "grey"))+
scale_fill_manual(values = paste(my_pal[2:4]))+
theme_cowplot()+
labs(fill = "Instar", y = "Final count")
diff.count
counts.long$instar <- factor(counts.long$instar, order = TRUE, levels = c("Sub1", "Sub2", "Adult"))
diff.count <- ggplot(data = counts.long, aes(x = instar, y = count.diff, fill = instar,
color = Treatment)) +
geom_boxplot(alpha = 0.7)+
# geom_text(data = value_max, aes(x = instar, y = max_value + 1, label = c("a", "ab", "b")) ,vjust=0)+
xlab("Instar")+
scale_color_manual(values = c("black", "grey"))+
scale_fill_manual(values = paste(my_pal[2:4]))+
theme_cowplot()+
labs(fill = "Instar", y = "Final count")
diff.count
counts.long <- counts.wide %>%
select(Colony, Treatment, Adult, Sub2, Sub1) %>%
pivot_longer(!c(Colony, Treatment), names_to = "instar", values_to = "count.diff")
counts.long$instar <- factor(counts.long$instar, order = TRUE, levels = c("Sub1", "Sub2", "Adult"))
diff.count <- ggplot(data = counts.long, aes(x = instar, y = count.diff, fill = instar,
color = Treatment)) +
geom_boxplot(alpha = 0.7)+
# geom_text(data = value_max, aes(x = instar, y = max_value + 1, label = c("a", "ab", "b")) ,vjust=0)+
xlab("Instar")+
scale_color_manual(values = c("black", "grey"))+
scale_fill_manual(values = paste(my_pal[2:4]))+
theme_cowplot()+
labs(fill = "Instar", y = "Final count")
diff.count
?cohen.d
cohen.d(adults.col$diff.resides ~ adults.col$Treatment)
######## ADULTS  ##########
# body condition
df_all <- read.csv("../data/eximius_body_measurements.csv")
levels(df_all$Measurement)
df_all$Measurement <- factor(df_all$Measurement, levels= c("before", "after"))
# remove Col_21 : Note says "Escapees"
df_all <- df_all %>% filter(Nest != "Col_21")
adults <- df_all %>% filter(instar == "Adult")
adults$weight.mg <- adults$weight.grams * 1000
y <- lm(log(weight.mg) ~ log(CT.W), data = adults)
adults$resids <- residuals(y)
Anova(y)
summary(y)
adult.resid.plot <- ggplot(data=adults, aes(x=CT.W, y = weight.mg))+
geom_point()+
geom_smooth(method = "lm")+
xlab("Cephalothorax Width (mm)")+
ylab("Spider Weight (mg)")+
scale_x_log10(breaks = trans_breaks("log10", function(x) 10^x),
labels = trans_format("log10", math_format(10^.x)))+
scale_y_log10(breaks = trans_breaks("log10", function(x) 10^x),
labels = trans_format("log10", math_format(10^.x)))+
theme_classic()+
theme(axis.text = element_text(size = 16, color = "black"),
axis.title = element_text(size = 16),
axis.line = element_line(size = 1.0))
# adults, before comparing treatments
adults.before <- adults %>%
filter(Measurement == "before")
y1 <- lmer(resids ~ Treatment + (1|Nest), data = adults.before)
# adults, after comparing treatments
adults.after <- adults %>%
filter(Measurement == "after")
ad.bf.col <- adults.before %>%
group_by(Nest, Treatment) %>%
summarize(before.res = mean(resids))
ad.af.col <- adults.after %>%
group_by(Nest, Treatment) %>%
summarize(after.res = mean(resids))
adults.col <- full_join(ad.bf.col, ad.af.col)
adults.col$diff.resids <- adults.col$after.res - adults.col$before.res
cohen.d(adults.col$diff.resids ~ adults.col$Treatment)
####### Sub 2 body condition ########
levels(df_all$instar)
#df_all <- read.csv("eximius_body_measurements.csv")
sub2 <- df_all %>% filter(instar == "Sub 2")
sub2$weight.mg <- sub2$weight.grams * 1000
y <- lm(log(weight.mg) ~ log(CT.W), data = sub2)
sub2$resids <- residuals(y)
#### sub 2 effect sizes ####
# sub2, before comparing treatments
sub2.before <- sub2 %>%
filter(Measurement == "before")
# sub2, after comparing treatments
sub2.after <- sub2 %>%
filter(Measurement == "after")
s2.bf.col <- sub2.before %>%
group_by(Nest, Treatment) %>%
summarize(before.res = mean(resids))
s2.af.col <- sub2.after %>%
group_by(Nest, Treatment) %>%
summarize(after.res = mean(resids))
sub2.col <- full_join(s2.bf.col, s2.af.col)
sub2.col$diff.resids <- sub2.col$after.res - sub2.col$before.res
cohen.d(sub2.col$diff.resids, sub2.col$Treatment)
View(sub2.col)
cohen.d(sub2.col$diff.resids, sub2.col$Treatment, na.rom = TRUE)
cohen.d(sub2.col$diff.resids, sub2.col$Treatment, na.rom == TRUE)
cohen.d(sub2.col$diff.resids, sub2.col$Treatment, na.rm == TRUE)
cohen.d(sub2.col$diff.resids, sub2.col$Treatment, na.rm = TRUE)
sub1.final <- read.csv("../data/Sub1wts.csv")
# remove colony 21
sub1.final <- sub1.final %>% filter(Nest != "Col_21")
sub1.final$Measurement <- factor(sub1.final$Measurement, levels = c("before", "after"))
y <- lm(log(weight.mg) ~ log(CT.W), data = sub1.final)
sub1.final$resids <- residuals(y)
#### sub 1 effect sizes ####
# sub1, before comparing treatments
sub1.before <- sub1.final %>%
filter(Measurement == "before")
# sub1, after comparing treatments
sub1.after <- sub1.final %>%
filter(Measurement == "after")
s1.bf.col <- sub1.before %>%
group_by(Nest, Treatment) %>%
summarize(before.res = mean(resids))
s1.af.col <- sub1.after %>%
group_by(Nest, Treatment) %>%
summarize(after.res = mean(resids))
sub1.col <- full_join(s1.bf.col, s1.af.col)
sub1.col$diff.resids <- sub1.col$after.res - sub1.col$before.res
cohens.d
cohen.d(sub1.col$diff.resids, sub1.col$Treatment)
summary(lm(diff.resids ~ instar + Treatment, data = all.col))
summary(lm(count.diff ~ instar + Treatment+ Treatment+instar:Treatment, data = counts.long))
str(count.diff)
str(counts.long)
summary(lm(count.diff ~ instar + Treatment+ Treatment+instar:Treatment, data = counts.long))
anova(lm(count.diff ~ instar + Treatment, data = counts.long)) # p=0.06
anova(lm(count.diff ~ instar + Treatment+instar:Treatment, data = counts.long)) # p=0.06
############ Mortality ##########
col.counts <- read.csv("../data/colony_counts.csv")
# remove Col_21 : Note says "Escapees"
col.counts <- col.counts %>% filter(Colony != "Col_21")
View(col.counts)
col.counts$num.all <- col.counts$num.adult + col.counts$num.sub2 + col.counts$num.sub1
num.after <- col.counts[c(which(col.counts$Measurement == "After")),]
num.after[,7] <- NULL
### count diff
View(col.counts)
col.counts[,7] <- NULL
counts.wide <- col.counts %>%
pivot_wider(values_from = c(num.adult, num.sub2, num.sub1), names_from = c(Measurement))
after <- col.counts %>% filter(Measurement == "After")
after <- after[,1:5]
after <- after %>%
rename(after.adult = num.adult,
after.sub2 = num.sub2,
after.sub1 = num.sub1)
before <- col.counts %>% filter(Measurement == "Before")
before <- before[,1:5]
before <- before %>%
rename(before.adult = num.adult,
before.sub2 = num.sub2,
before.sub1 = num.sub1)
counts.wide <- full_join(after, before)
counts.wide <- counts.wide %>%
mutate(diff.adult = after.adult - before.adult,
diff.sub2 = after.sub2 - before.sub2,
diff.sub1 = after.sub1 - before.sub1)
counts.wide <- counts.wide %>%
rename(Adult = diff.adult,
Sub2 = diff.sub2,
Sub1 = diff.sub1)
counts.long <- counts.wide %>%
select(Colony, Treatment, Adult, Sub2, Sub1) %>%
pivot_longer(!c(Colony, Treatment), names_to = "instar", values_to = "count.diff")
anova(lm(count.diff ~ instar + Treatment+instar:Treatment, data = counts.long)) # p=0.06
anova(lm(count.diff ~ instar + Treatment, data = counts.long)) # p=0.06
summary(lm(count.diff ~ instar + Treatment+ Treatment+instar:Treatment, data = counts.long))
anova(lm(count.diff ~ instar + Treatment+instar:Treatment, data = counts.long)) # p=0.06
anova(lm(count.diff ~ instar + Treatment, data = counts.long)) # p=0.06
counts.long$instar <- factor(counts.long$instar, order = TRUE, levels = c("Sub1", "Sub2", "Adult"))
diff.count <- ggplot(data = counts.long, aes(x = instar, y = count.diff, fill = instar,
color = Treatment)) +
geom_boxplot(alpha = 0.7)+
# geom_text(data = value_max, aes(x = instar, y = max_value + 1, label = c("a", "ab", "b")) ,vjust=0)+
xlab("Instar")+
scale_color_manual(values = c("black", "grey"))+
scale_fill_manual(values = paste(my_pal[2:4]))+
theme_cowplot()+
labs(fill = "Instar", y = "Final count")
my_pal <- viridis::viridis(option = "C", n = 4)
my_pal <- my_pal[c(4,3,2,1)]
diff.count <- ggplot(data = counts.long, aes(x = instar, y = count.diff, fill = instar,
color = Treatment)) +
geom_boxplot(alpha = 0.7)+
# geom_text(data = value_max, aes(x = instar, y = max_value + 1, label = c("a", "ab", "b")) ,vjust=0)+
xlab("Instar")+
scale_color_manual(values = c("black", "grey"))+
scale_fill_manual(values = paste(my_pal[2:4]))+
theme_cowplot()+
labs(fill = "Instar", y = "Final count")
diff.count
######## ADULTS  ##########
# body condition
df_all <- read.csv("../data/eximius_body_measurements.csv")
levels(df_all$Measurement)
df_all$Measurement <- factor(df_all$Measurement, levels= c("before", "after"))
# remove Col_21 : Note says "Escapees"
df_all <- df_all %>% filter(Nest != "Col_21")
adults <- df_all %>% filter(instar == "Adult")
adults$weight.mg <- adults$weight.grams * 1000
y <- lm(log(weight.mg) ~ log(CT.W), data = adults)
adults$resids <- residuals(y)
# adults, before comparing treatments
adults.before <- adults %>%
filter(Measurement == "before")
# adults, after comparing treatments
adults.after <- adults %>%
filter(Measurement == "after")
ad.bf.col <- adults.before %>%
group_by(Nest, Treatment) %>%
summarize(before.res = mean(resids))
ad.af.col <- adults.after %>%
group_by(Nest, Treatment) %>%
summarize(after.res = mean(resids))
adults.col <- full_join(ad.bf.col, ad.af.col)
adults.col$diff.resids <- adults.col$after.res - adults.col$before.res
cohen.d(adults.col$diff.resids ~ adults.col$Treatment) #small
####### Sub 2 body condition ########
levels(df_all$instar)
#df_all <- read.csv("eximius_body_measurements.csv")
sub2 <- df_all %>% filter(instar == "Sub 2")
sub2$weight.mg <- sub2$weight.grams * 1000
y <- lm(log(weight.mg) ~ log(CT.W), data = sub2)
sub2$resids <- residuals(y)
#### sub 2 effect sizes ####
# sub2, before comparing treatments
sub2.before <- sub2 %>%
filter(Measurement == "before")
# sub2, after comparing treatments
sub2.after <- sub2 %>%
filter(Measurement == "after")
s2.bf.col <- sub2.before %>%
group_by(Nest, Treatment) %>%
summarize(before.res = mean(resids))
s2.af.col <- sub2.after %>%
group_by(Nest, Treatment) %>%
summarize(after.res = mean(resids))
sub2.col <- full_join(s2.bf.col, s2.af.col)
sub2.col$diff.resids <- sub2.col$after.res - sub2.col$before.res
cohen.d(sub2.col$diff.resids, sub2.col$Treatment, na.rm = TRUE) #medium
sub1.final <- read.csv("../data/Sub1wts.csv")
# remove colony 21
sub1.final <- sub1.final %>% filter(Nest != "Col_21")
sub1.final$Measurement <- factor(sub1.final$Measurement, levels = c("before", "after"))
y <- lm(log(weight.mg) ~ log(CT.W), data = sub1.final)
sub1.final$resids <- residuals(y)
#### sub 1 effect sizes ####
# sub1, before comparing treatments
sub1.before <- sub1.final %>%
filter(Measurement == "before")
# sub1, after comparing treatments
sub1.after <- sub1.final %>%
filter(Measurement == "after")
s1.bf.col <- sub1.before %>%
group_by(Nest, Treatment) %>%
summarize(before.res = mean(resids))
s1.af.col <- sub1.after %>%
group_by(Nest, Treatment) %>%
summarize(after.res = mean(resids))
sub1.col <- full_join(s1.bf.col, s1.af.col)
sub1.col$diff.resids <- sub1.col$after.res - sub1.col$before.res
cohen.d(sub1.col$diff.resids, sub1.col$Treatment) #medium
# diff by instar
num.adult <- counts.long %>% filter(instar = "Adult")
# diff by instar
num.adult <- counts.long %>% filter(instar == "Adult")
View(num.adult)
anova(lm(count.diff ~ Treatment, data = num.adult))
num.sub2 <- counts.long %>% filter(instar == "Sub2")
anova(lm(count.diff ~ Treatment, data = num.sub2))
anova(lm(count.diff ~ Treatment, data = num.sub1)) #0.08
num.sub1 <- counts.long %>% filter(instar == "Sub1")
anova(lm(count.diff ~ Treatment, data = num.sub1)) #0.08
